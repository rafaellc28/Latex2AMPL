<!doctype html>
<html>
	<head>
		<title>Latex2MathProg</title>

		<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
		<script type="text/javascript" src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
		<script type="text/javascript" src="rangy-core.js"></script>
		<script type="text/javascript" src="textinputs_jquery.js"></script>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

		<!-- Optional theme -->
		<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">-->

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="	sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

		<!-- MathJax -->
		<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js">
		  MathJax.Hub.Config({
			extensions: ['tex2jax.js',"TeX/AMSmath.js","TeX/AMSsymbols.js"],
			tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
			jax: ["input/TeX","output/HTML-CSS"],
			displayAlign: "center",
			displayIndent: "0.1em",
			showProcessingMessages: false
		  });
	  	</script>

		<script type="text/javascript" src="writemaths.js"></script>

		<script language="javascript">
            $(document).ready(function() {
				$('.wm.ontop').writemaths({position:'right top', previewPosition: 'left top', of: 'this'});
				$('.wm.side').writemaths({position:'right top', previewPosition: 'left top'});
			});

			function generateMathProg() {
				var data = $("#latex").val();
				$("#mathProg").html("");
				$.post("/", {latex: data}, function(result, status){
        			$("#mathProg").html(result);
    			});
			}

		</script>
	</head>
	<body>
		<h1>Latex2MathProg</h1>
		<p>Convert a Linear Programming Model Latex Code to a <a href="https://www3.nd.edu/~jeff/mathprog/glpk-4.47/doc/gmpl.pdf" target="_mathProgTutorial">MathProg</a> Code</p>
		<p>A MathProg Code can be solved using the <a href="https://www.gnu.org/software/glpk/" target="_glpk">GLPK (GNU Linear Programming Kit)</a> tool</p>
        <p><h2>Latex Code</h2></p>
        <form action="/" method="post">
        	<p class="text-muted">
        		<ul>
        			<li>Put the <b>Linear Programming Model</b> inside the <i>equation>split environment</i>, as shown in the example below</li>
        			<li>Use <b>\text{maximize}/\text{minimize}</b> to the <b>Objective Function</b> and <b>\text{subject to}</b> to start the <b>Constraints</b>.</li>
        			<li>The last constraint can not end with BACKSLASHES "<b>\\</b>"</li>
        			<li>A constraint can not end with COMMA "<b>,</b>", therefore "<b>,\\</b>" means that the constraint continues in the next line</li>
        			<li><b>Parameters</b> must start with an upper case letter</li>
        			<li>Put the cursor within the <b>Linear Programming Model</b> to see the <b>MathJax</b> preview</li>
        		</p>
        	<div>
				<textarea id="latex" name="latex" class="wm ontop" rows="10" cols="75">
\begin{equation}
\begin{split}
\text{minimize} & \displaystyle\sum\limits_{i \in I,j \in J}C_{i,j} * x_{i,j}\\
\text{subject to} & \displaystyle\sum\limits_{j \in J}x_{i,j} \leq A_{i}, i \in I\\
& \displaystyle\sum\limits_{i \in I}x_{i,j} \geq B_{j}, j \in J,\\
& x_{i,j} \in \mathbb{N}
\end{split}
\end{equation}</textarea>
				<p class="text-muted">
					This example is from <a href="https://www3.nd.edu/~jeff/mathprog/glpk-4.47/doc/gmpl.pdf" target="_mathProgTutorial"><i>Modeling Language GNU MathProg</i></a>, Appendix E
				</p>
			</div>
			<div>
				<input type="button" id="btnGerar" value="Generate MathProg" onClick="generateMathProg()"/>
			</div>
		</form>
        <p><h2>MathProg Code</h2></p>
        <div id="mathProg" name="mathProg" style="width:50px, height:50px; border-style: solid; border-width: 1px;">
        </div>
	</body>
</html>
